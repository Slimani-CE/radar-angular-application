<div class="p-3">
  <div class="card">
    <!-- Header -->
    <div class="card-header">
      <h4><i class="bi bi-exclamation-circle"></i> Infractions of the radar</h4>
    </div>
    <!-- Table of infractions that are linked to this radar -->
    <div class="card-body">
      <table class="table text-center">
        <thead>
        <tr>
          <th>Id</th>
          <th>Date</th>
          <th>Speed</th>
          <th>Fine amounte</th>
          <th>Vehicle plate</th>
          <th>Consult</th>
          <th>Delete</th>
        </tr>
        </thead>
        <tbody class="text-center">
        <tr *ngFor="let infraction of infractions" colspan="5">
          <td>{{infraction.id}}</td>
          <td>{{infraction.date}}</td>
          <td>{{infraction.vehicleSpeed}} KM</td>
          <td>{{infraction.fineAmount}} MAD</td>
          <td>{{infraction.vehicle.regNumber}}</td>
          <td><button class="btn btn-outline-primary" (click)="openPopup(infraction)"><i class="bi bi-search"></i></button></td>
          <td><button class="btn btn-outline-danger" (click)="delete(infraction)"><i class="bi bi-trash"></i></button></td>
        </tr>
        </tbody>
      </table>

      <!-- Return to the previous page -->
      <div class="card-footer">
        <button class="btn btn-outline-primary" (click)="goBack()"><i class="bi bi-arrow-left"></i> Back</button>
      </div>
    </div>
  </div>
  <!-- Popup with bootstrap -->
  <div class="popup card" *ngIf="isPopupOpen && focusedInfraction != null">
    <div class="card-body">
      <!-- Popup content with ability to modify the infraction -->
      <h4><i class="bi bi-exclamation-circle"></i> Infraction details</h4>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label for="id">Id</label>
            <input type="text" class="form-control" id="id" [(ngModel)]="focusedInfraction.id" disabled>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="brand">Date</label>
            <input type="text" class="form-control" id="brand" [(ngModel)]="focusedInfraction.date" disabled>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="model">Vehicle speed</label>
            <input type="text" class="form-control" id="model" [(ngModel)]="focusedInfraction.vehicleSpeed" disabled>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="model">Fine amount</label>
            <input type="text" class="form-control" id="model" [(ngModel)]="focusedInfraction.fineAmount" disabled>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="model">Vehicle Id</label>
            <input type="text" class="form-control" id="model" [(ngModel)]="focusedInfraction.vehicle.id" disabled>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="model">Vehicle plate</label>
            <input type="text" class="form-control" id="model" [(ngModel)]="focusedInfraction.vehicle.regNumber" disabled>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="model">Vehicle brand</label>
            <input type="text" class="form-control" id="model" [(ngModel)]="focusedInfraction.vehicle.brand" disabled>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="model">Vehicle model</label>
            <input type="text" class="form-control" id="model" [(ngModel)]="focusedInfraction.vehicle.model" disabled>
          </div>
        </div>
      </div>
    </div>
    <div class="card-footer bg-transparent">
      <!-- Close the popup -->
      <button class="btn btn-outline-primary" (click)="closePopup()"><i class="bi bi-x"></i> Close</button>
    </div>
  </div>
</div>
